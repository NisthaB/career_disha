{% extends 'layout/layout.html' %}
{% block head %}
    <link rel="stylesheet" type="text/css" href="/static/css/signup.css" />
	<meta http-equiv="Refresh" content="600;url=http://localhost:5000/dashboard">
{% endblock%}

{% block body %}
<div class=" static-top" style="top:9.2%; left:0; width:100%; height:90vh; background-color:none; z-index:0;">
	<form name="examForm" method="post">
	<nav class="navbar navbar-expand-lg fixed-top navbar-dark bg-dark float-right" style="z-index:1000;">
		<font style="margin-left:70%; color:white;"></font>
		<div style="color:#FFFFFF;">Remaining time is
		<b><span id="time" style="color:#FFFFFF; margin-left:2px; margin-right:4px;">10:00</span></b>minutes! </div>
		<input id="submit_btn" type="submit" value="Submit" class="btn btn-success" style="margin-left:25px;">
	</nav>
	<section class="jumbotron text-center">
    <div class="container">
      <h1 class="jumbotron-heading">Here is your {{subj}} questions</h1>
      <p class="lead text-muted">Wish you a luck.</p>
    </div>
	</section>
	<br>
    {% for each in exam_data %}
	<div id="accordion">
	  <div class="card">
		<div class="card-header" id="headingOne">
		  <h5 class="mb-0">
			  <font class="btn text-primary"><b>{{ loop.index }}.</b> {{ each[0] }} </font>
		  </h5>
		</div>

		<div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordion">
		  <div class="card-body">
			<div class="input-group">
			  <div class="input-group-prepend">
				<div class="input-group-text">
				<input name="{{ each[5] }}" type="radio" value="{{ each[1] }}" aria-label="Radio button for following text input">
				</div>
			  </div>
			  <input type="text" value="{{ each[1] }}" class="form-control" aria-label="Text input with radio button" readonly>
			</div>
			<div class="input-group">
			  <div class="input-group-prepend">
				<div class="input-group-text">
				<input name="{{ each[5] }}" type="radio" value="{{ each[2] }}" aria-label="Radio button for following text input">
				</div>
			  </div>
			  <input type="text" value="{{ each[2] }}" class="form-control" aria-label="Text input with radio button" readonly>
			</div>
			<div class="input-group">
			  <div class="input-group-prepend">
				<div class="input-group-text">
				<input name="{{ each[5] }}" type="radio" value="{{ each[3] }}" aria-label="Radio button for following text input">
				</div>
			  </div>
			  <input type="text" value="{{ each[3] }}" class="form-control" aria-label="Text input with radio button" readonly>
			</div>
			<div class="input-group">
			  <div class="input-group-prepend">
				<div class="input-group-text">
				<input name="{{ each[5] }}" type="radio" value="{{ each[4] }}" aria-label="Radio button for following text input">
				</div>
			  </div>
			  <input type="text" value="{{ each[4] }}" class="form-control" aria-label="Text input with radio button" readonly>
			</div>
			
		  </div>
		</div>
	  </div>
	{% endfor %}
	</form>
    
	<script src="/static/js/password_validation.js"></script>
	<script type="text/javascript">
		function startTimer(duration, display) {
			var timer = duration, minutes, seconds;
			setInterval(function () {
				minutes = parseInt(timer / 60, 10);
				seconds = parseInt(timer % 60, 10);

				minutes = minutes < 10 ? "0" + minutes : minutes;
				seconds = seconds < 10 ? "0" + seconds : seconds;

				display.textContent = minutes + ":" + seconds;
				
				if (minutes == 0 && seconds == 0){
					document.getElementById("submit_btn").click();
				}
				
				if (--timer < 0) {
					timer = duration;
				}
			}, 1000);
		}
		window.onload = function () {
			var tenMinutes = 60 * 10,
			display = document.querySelector('#time');
			startTimer(tenMinutes, display);
		};
	</script>
	</div>
{% endblock %}
